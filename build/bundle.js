var app=function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function s(){return Object.create(null)}function o(t){t.forEach(n)}function r(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}const c="undefined"!=typeof window;let a=c?()=>window.performance.now():()=>Date.now(),l=c?t=>requestAnimationFrame(t):t;const u=new Set;function d(t){u.forEach((e=>{e.c(t)||(u.delete(e),e.f())})),0!==u.size&&l(d)}function f(t,e){t.appendChild(e)}function h(t,e,n){t.insertBefore(e,n||null)}function p(t){t.parentNode.removeChild(t)}function g(t){return document.createElement(t)}function m(t){return document.createTextNode(t)}function v(){return m(" ")}function $(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function y(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function b(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function x(t,e,n,s){t.style.setProperty(e,n,s?"important":"")}function _(t,e,n){t.classList[n?"add":"remove"](e)}function w(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}const C=new Set;let k,S=0;function E(t,e,n,s,o,r,i,c=0){const a=16.666/s;let l="{\n";for(let t=0;t<=1;t+=a){const s=e+(n-e)*r(t);l+=100*t+`%{${i(s,1-s)}}\n`}const u=l+`100% {${i(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${c}`,f=t.ownerDocument;C.add(f);const h=f.__svelte_stylesheet||(f.__svelte_stylesheet=f.head.appendChild(g("style")).sheet),p=f.__svelte_rules||(f.__svelte_rules={});p[d]||(p[d]=!0,h.insertRule(`@keyframes ${d} ${u}`,h.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?`${m}, `:""}${d} ${s}ms linear ${o}ms 1 both`,S+=1,d}function N(t,e){const n=(t.style.animation||"").split(", "),s=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),o=n.length-s.length;o&&(t.style.animation=s.join(", "),S-=o,S||l((()=>{S||(C.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),C.clear())})))}function j(t){k=t}function A(){const t=function(){if(!k)throw new Error("Function called outside component initialization");return k}();return(e,n)=>{const s=t.$$.callbacks[e];if(s){const o=w(e,n);s.slice().forEach((e=>{e.call(t,o)}))}}}const L=[],q=[],z=[],M=[],O=Promise.resolve();let R=!1;function H(t){z.push(t)}function I(t){M.push(t)}let P=!1;const D=new Set;function T(){if(!P){P=!0;do{for(let t=0;t<L.length;t+=1){const e=L[t];j(e),V(e.$$)}for(j(null),L.length=0;q.length;)q.pop()();for(let t=0;t<z.length;t+=1){const e=z[t];D.has(e)||(D.add(e),e())}z.length=0}while(L.length);for(;M.length;)M.pop()();R=!1,P=!1,D.clear()}}function V(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(H)}}let B;function G(t,e,n){t.dispatchEvent(w(`${e?"intro":"outro"}${n}`))}const W=new Set;let F;function K(){F={r:0,c:[],p:F}}function U(){F.r||o(F.c),F=F.p}function Z(t,e){t&&t.i&&(W.delete(t),t.i(e))}function J(t,e,n,s){if(t&&t.o){if(W.has(t))return;W.add(t),F.c.push((()=>{W.delete(t),s&&(n&&t.d(1),s())})),t.o(e)}}const Q={duration:0};function X(n,s,i,c){let f=s(n,i),h=c?0:1,p=null,g=null,m=null;function v(){m&&N(n,m)}function $(t,e){const n=t.b-h;return e*=Math.abs(n),{a:h,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function y(s){const{delay:r=0,duration:i=300,easing:c=e,tick:y=t,css:b}=f||Q,x={start:a()+r,b:s};s||(x.group=F,F.r+=1),p||g?g=x:(b&&(v(),m=E(n,h,s,i,r,c,b)),s&&y(0,1),p=$(x,i),H((()=>G(n,s,"start"))),function(t){let e;0===u.size&&l(d),new Promise((n=>{u.add(e={c:t,f:n})}))}((t=>{if(g&&t>g.start&&(p=$(g,i),g=null,G(n,p.b,"start"),b&&(v(),m=E(n,h,p.b,p.duration,0,c,f.css))),p)if(t>=p.end)y(h=p.b,1-h),G(n,p.b,"end"),g||(p.b?v():--p.group.r||o(p.group.c)),p=null;else if(t>=p.start){const e=t-p.start;h=p.a+p.d*c(e/p.duration),y(h,1-h)}return!(!p&&!g)})))}return{run(t){r(f)?(B||(B=Promise.resolve(),B.then((()=>{B=null}))),B).then((()=>{f=f(),y(t)})):y(t)},end(){v(),p=g=null}}}function Y(t,e,n){const s=t.$$.props[e];void 0!==s&&(t.$$.bound[s]=n,n(t.$$.ctx[s]))}function tt(t){t&&t.c()}function et(t,e,s,i){const{fragment:c,on_mount:a,on_destroy:l,after_update:u}=t.$$;c&&c.m(e,s),i||H((()=>{const e=a.map(n).filter(r);l?l.push(...e):o(e),t.$$.on_mount=[]})),u.forEach(H)}function nt(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function st(t,e){-1===t.$$.dirty[0]&&(L.push(t),R||(R=!0,O.then(T)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ot(e,n,r,i,c,a,l=[-1]){const u=k;j(e);const d=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:c,bound:s(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:s(),dirty:l,skip_bound:!1};let f=!1;if(d.ctx=r?r(e,n.props||{},((t,n,...s)=>{const o=s.length?s[0]:n;return d.ctx&&c(d.ctx[t],d.ctx[t]=o)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](o),f&&st(e,t)),n})):[],d.update(),f=!0,o(d.before_update),d.fragment=!!i&&i(d.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);d.fragment&&d.fragment.l(t),t.forEach(p)}else d.fragment&&d.fragment.c();n.intro&&Z(e.$$.fragment),et(e,n.target,n.anchor,n.customElement),T()}j(u)}class rt{$destroy(){nt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}async function it(t,e,n){try{const s=await async function(t,e=30,n){const s=new URL(`https://v5.db.transport.rest/stops/${t}/arrivals`);return e&&s.searchParams.set("duration",e.toString()),n&&!isNaN(n.getTime())&&s.searchParams.set("when",n.toISOString()),s.searchParams.set("results","200"),(await fetch(s.href)).json()}(t,e,n);let o=0;return s.forEach((t=>{const e=t.delay?t.delay/60:null;o+=e||0})),Math.round(100*o)/100}catch(t){return console.error(t),null}}class ct{constructor(t){this.usedCityCodes=[],this.disqualifiedCityCodes=[],this.stations={},this.stations=t}async delayDataIfValid(t){if(this.usedCityCodes.includes(t)||this.disqualifiedCityCodes.includes(t))return!1;const e=await it(t);return!e||e<=0?(this.disqualifiedCityCodes.push(t),!1):(this.usedCityCodes.push(t),e)}async getNextStationArrivalDelay(){for(let t=0;t<Object.keys(this.stations).length;t++){let t=Number(at(this.stations));6===(t+"").length&&(t=Number("0"+t));const e=await this.delayDataIfValid(t);if(e)return{eva:t,name:this.stations[t].name,photoName:this.stations[t].photoName,photographer:this.stations[t].photographer,license:this.stations[t].license,delay:e}}}}const at=function(t){return Object.keys(t)[Math.floor(Math.random()*Object.keys(t).length)]};class lt{static get highscore(){const t=Number.parseInt(localStorage.getItem("highscore"));return t||0}static set highscore(t){localStorage.setItem("highscore",t+"")}}function ut(e){let n,s,o,r,i,c,a,l,u,d,m;return{c(){n=g("page"),s=g("h1"),s.textContent="Zugverspätung higher lower",o=v(),r=g("h2"),r.textContent="Welcher Bahnhof sammelt zurzeit mehr Ankunfts-Verspätungs-Minuten?",i=v(),c=g("span"),c.textContent="Eine spassige Method die Echtzeit Fahrplandaten der Bahn zu nutzen",a=v(),l=g("div"),u=g("button"),u.textContent="Go",y(s,"class","svelte-9lqrd1"),y(r,"class","svelte-9lqrd1"),y(u,"class","svelte-9lqrd1"),y(l,"class","inlineContainer svelte-9lqrd1"),y(n,"class","svelte-9lqrd1")},m(t,p){h(t,n,p),f(n,s),f(n,o),f(n,r),f(n,i),f(n,c),f(n,a),f(n,l),f(l,u),d||(m=$(u,"click",e[0]),d=!0)},p:t,i:t,o:t,d(t){t&&p(n),d=!1,m()}}}function dt(t,e,n){let{justStarted:s}=e;return t.$$set=t=>{"justStarted"in t&&n(1,s=t.justStarted)},[function(t){n(1,s=!1)},s]}class ft extends rt{constructor(t){super(),ot(this,t,dt,ut,i,{justStarted:1})}}function ht(t){let e;return{c(){e=g("span"),e.textContent="Schon mal nicht schlecht"},m(t,n){h(t,e,n)},d(t){t&&p(e)}}}function pt(t){let e;return{c(){e=g("span"),e.textContent="Naja wenigstens etwas"},m(t,n){h(t,e,n)},d(t){t&&p(e)}}}function gt(t){let e;return{c(){e=g("span"),e.innerHTML="<strong>Schwach!</strong>"},m(t,n){h(t,e,n)},d(t){t&&p(e)}}}function mt(e){let n,s,o,r,i,c,a,l,u,d,x,_;function w(t,e){return 0==t[0]?gt:t[0]>0&&t[0]<3?pt:ht}let C=w(e),k=C(e);return{c(){n=g("page"),s=g("h1"),s.textContent="Dein Ergebnis",o=v(),r=g("h2"),i=m(e[0]),c=m(" Punkte"),a=v(),k.c(),l=v(),u=g("div"),d=g("button"),d.textContent="Neustart!",y(d,"class","svelte-1sayq2q"),y(u,"class","inlineContainer svelte-1sayq2q"),y(n,"class","svelte-1sayq2q")},m(t,p){h(t,n,p),f(n,s),f(n,o),f(n,r),f(r,i),f(r,c),f(n,a),k.m(n,null),f(n,l),f(n,u),f(u,d),x||(_=$(d,"click",e[1]),x=!0)},p(t,[e]){1&e&&b(i,t[0]),C!==(C=w(t))&&(k.d(1),k=C(t),k&&(k.c(),k.m(n,l)))},i:t,o:t,d(t){t&&p(n),k.d(),x=!1,_()}}}function vt(t,e,n){let{score:s}=e;return t.$$set=t=>{"score"in t&&n(0,s=t.score)},[s,function(e){!function(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t(e)))}(t,e)}]}class $t extends rt{constructor(t){super(),ot(this,t,vt,mt,i,{score:0})}}function yt(e){let n,s,o,r,i,c,a,l,u,d,$,_,w,C,k,S,E=e[0].name+"",N=e[0].delay+"",j=e[0].photographer+"",A=e[0].license+"";return{c(){n=g("page"),s=g("h1"),o=m(E),r=v(),i=g("div"),c=g("p"),a=m(N),l=v(),u=g("p"),u.textContent="Minute(n) Verspätung gesamt",d=v(),$=g("div"),_=g("span"),w=m(j),C=v(),k=g("span"),S=m(A),y(c,"class","term-volume__volume svelte-xg5uyx"),y(i,"class","term-volume"),y(_,"class","attributionLine svelte-xg5uyx"),y(k,"class","attributionLine svelte-xg5uyx"),y($,"id","attributionContainer"),y($,"class","svelte-xg5uyx"),x(n,"background","linear-gradient(rgba(0, 0, 0, 0.65), rgba(0, 0, 0, 0.65)), url('station-images/"+e[0].photoName+"') no-repeat center center fixed"),y(n,"class","svelte-xg5uyx")},m(t,e){h(t,n,e),f(n,s),f(s,o),f(n,r),f(n,i),f(i,c),f(c,a),f(i,l),f(i,u),f(n,d),f(n,$),f($,_),f(_,w),f($,C),f($,k),f(k,S)},p(t,[e]){1&e&&E!==(E=t[0].name+"")&&b(o,E),1&e&&N!==(N=t[0].delay+"")&&b(a,N),1&e&&j!==(j=t[0].photographer+"")&&b(w,j),1&e&&A!==(A=t[0].license+"")&&b(S,A),1&e&&x(n,"background","linear-gradient(rgba(0, 0, 0, 0.65), rgba(0, 0, 0, 0.65)), url('station-images/"+t[0].photoName+"') no-repeat center center fixed")},i:t,o:t,d(t){t&&p(n)}}}function bt(t,e,n){let{station:s}=e;return t.$$set=t=>{"station"in t&&n(0,s=t.station)},[s]}class xt extends rt{constructor(t){super(),ot(this,t,bt,yt,i,{station:0})}}function _t(t){return 0===t?t:Math.pow(2,10*(t-1))}function wt(t,{delay:e=0,duration:n=200,easing:s=(t=>t),baseScale:o=0}){const r=+getComputedStyle(t).opacity,i=getComputedStyle(t).transform.match(/scale\(([0-9.]+)\)/),c=Number(i?i[1]:1),a=1-o;return{delay:e,duration:n,css:t=>{const e=s(t);return`opacity: ${e*r}; transform: scale(${e*c*a+o})`}}}var Ct;function kt(e){let n,s,r,i,c,a;return{c(){n=g("div"),s=g("button"),s.textContent="Higher",r=v(),i=g("button"),i.textContent="Lower",y(s,"class","svelte-1r98h0r"),y(i,"class","svelte-1r98h0r"),y(n,"class","buttonContainer svelte-1r98h0r")},m(t,o){h(t,n,o),f(n,s),f(n,r),f(n,i),c||(a=[$(s,"click",e[2]),$(i,"click",e[3])],c=!0)},p:t,i:t,o:t,d(t){t&&p(n),c=!1,o(a)}}}function St(t){let e,n,s,o,r,i,c,a=t[1].delay+"";return{c(){e=g("div"),n=g("p"),s=m(a),o=v(),r=g("p"),r.textContent="Minute(n) Verspätung gesamt",y(n,"class","term-volume__volume svelte-1r98h0r"),y(e,"class","term-volume")},m(t,i){h(t,e,i),f(e,n),f(n,s),f(e,o),f(e,r),c=!0},p(e,n){t=e,(!c||2&n)&&a!==(a=t[1].delay+"")&&b(s,a)},i(t){c||(H((()=>{i||(i=X(e,wt,{delay:75,duration:500,easing:_t,baseScale:.5},!0)),i.run(1)})),c=!0)},o(t){i||(i=X(e,wt,{delay:75,duration:500,easing:_t,baseScale:.5},!1)),i.run(0),c=!1},d(t){t&&p(e),t&&i&&i.end()}}}function Et(t){let e,n,s,o,r,i,c,a,l,u,d,$,_,w,C=t[1].name+"",k=t[1].photographer+"",S=t[1].license+"";const E=[St,kt],N=[];function j(t,e){return t[0]?1:0}return r=j(t),i=N[r]=E[r](t),{c(){e=g("page"),n=g("h1"),s=m(C),o=v(),i.c(),c=v(),a=g("div"),l=g("span"),u=m(k),d=v(),$=g("span"),_=m(S),y(l,"class","attributionLine svelte-1r98h0r"),y($,"class","attributionLine svelte-1r98h0r"),y(a,"id","attributionContainer"),y(a,"class","svelte-1r98h0r"),x(e,"background","linear-gradient(rgba(0, 0, 0, 0.65), rgba(0, 0, 0, 0.65)),\nurl('station-images/"+t[1].photoName+"') no-repeat center center fixed"),y(e,"class","svelte-1r98h0r")},m(t,i){h(t,e,i),f(e,n),f(n,s),f(e,o),N[r].m(e,null),f(e,c),f(e,a),f(a,l),f(l,u),f(a,d),f(a,$),f($,_),w=!0},p(t,[n]){(!w||2&n)&&C!==(C=t[1].name+"")&&b(s,C);let o=r;r=j(t),r===o?N[r].p(t,n):(K(),J(N[o],1,1,(()=>{N[o]=null})),U(),i=N[r],i?i.p(t,n):(i=N[r]=E[r](t),i.c()),Z(i,1),i.m(e,c)),(!w||2&n)&&k!==(k=t[1].photographer+"")&&b(u,k),(!w||2&n)&&S!==(S=t[1].license+"")&&b(_,S),(!w||2&n)&&x(e,"background","linear-gradient(rgba(0, 0, 0, 0.65), rgba(0, 0, 0, 0.65)),\nurl('station-images/"+t[1].photoName+"') no-repeat center center fixed")},i(t){w||(Z(i),w=!0)},o(t){J(i),w=!1},d(t){t&&p(e),N[r].d()}}}function Nt(t,e,n){let{station:s}=e,{chooseActive:o}=e;const r=A();return t.$$set=t=>{"station"in t&&n(1,s=t.station),"chooseActive"in t&&n(0,o=t.chooseActive)},[o,s,function(t){r("message",{decision:Ct.HIGHER}),n(0,o=!1)},function(t){r("message",{decision:Ct.LOWER}),n(0,o=!1)}]}!function(t){t.HIGHER="higher",t.LOWER="lower"}(Ct||(Ct={}));class jt extends rt{constructor(t){super(),ot(this,t,Nt,Et,i,{station:1,chooseActive:0})}}function At(e){let n,s;return{c(){var t;n=g("page"),s=g("div"),s.innerHTML='<div class="versus-block__text svelte-5zy60r">vs</div> \n\t\t<div class="versus-block__overlay svelte-5zy60r"></div> \n\t\t<div class="versus-block__icon svelte-5zy60r"></div> \n\t\t<div></div>',y(s,"class",(null==(t="versus-block")?"":t)+" svelte-5zy60r"),_(s,"win",e[0]),_(s,"loss",e[1])},m(t,e){h(t,n,e),f(n,s)},p(t,[e]){1&e&&_(s,"win",t[0]),2&e&&_(s,"loss",t[1])},i:t,o:t,d(t){t&&p(n)}}}function Lt(t,e,n){let{win:s}=e,{loss:o}=e;return t.$$set=t=>{"win"in t&&n(0,s=t.win),"loss"in t&&n(1,o=t.loss)},[s,o]}class qt extends rt{constructor(t){super(),ot(this,t,Lt,At,i,{win:0,loss:1})}}function zt(t){let e,n,s,o,r,i,c,a,l,u,d,$,x,_,w=t[0].highscore+"",C=t[1]&&t[2]&&Rt(t);return{c(){e=g("div"),C&&C.c(),n=v(),s=g("div"),o=g("span"),r=m(w),i=v(),c=g("span"),c.textContent="Highscore",a=v(),l=g("div"),u=g("span"),d=m(t[5]),$=v(),x=g("span"),x.textContent="Punkte",y(e,"class","progressionContainer svelte-1cgl8bm"),y(o,"class","scoreLine svelte-1cgl8bm"),y(c,"class","scoreLine svelte-1cgl8bm"),y(s,"id","highScoreContainer"),y(s,"class","svelte-1cgl8bm"),y(u,"class","scoreLine svelte-1cgl8bm"),y(x,"class","scoreLine svelte-1cgl8bm"),y(l,"id","scoreContainer"),y(l,"class","svelte-1cgl8bm")},m(t,p){h(t,e,p),C&&C.m(e,null),h(t,n,p),h(t,s,p),f(s,o),f(o,r),f(s,i),f(s,c),h(t,a,p),h(t,l,p),f(l,u),f(u,d),f(l,$),f(l,x),_=!0},p(t,n){t[1]&&t[2]?C?(C.p(t,n),6&n&&Z(C,1)):(C=Rt(t),C.c(),Z(C,1),C.m(e,null)):C&&(K(),J(C,1,1,(()=>{C=null})),U()),(!_||1&n)&&w!==(w=t[0].highscore+"")&&b(r,w),(!_||32&n)&&b(d,t[5])},i(t){_||(Z(C),_=!0)},o(t){J(C),_=!1},d(t){t&&p(e),C&&C.d(),t&&p(n),t&&p(s),t&&p(a),t&&p(l)}}}function Mt(t){let e,n,s;return n=new $t({props:{score:t[5]}}),n.$on("click",t[9]),{c(){e=g("div"),tt(n.$$.fragment),y(e,"class","infoContainer svelte-1cgl8bm")},m(t,o){h(t,e,o),et(n,e,null),s=!0},p(t,e){const s={};32&e&&(s.score=t[5]),n.$set(s)},i(t){s||(Z(n.$$.fragment,t),s=!0)},o(t){J(n.$$.fragment,t),s=!1},d(t){t&&p(e),nt(n)}}}function Ot(t){let e,n,s,o;function r(e){t[11](e)}let i={};return void 0!==t[3]&&(i.justStarted=t[3]),n=new ft({props:i}),q.push((()=>Y(n,"justStarted",r))),{c(){e=g("div"),tt(n.$$.fragment),y(e,"class","infoContainer svelte-1cgl8bm")},m(t,s){h(t,e,s),et(n,e,null),o=!0},p(t,e){const o={};!s&&8&e&&(s=!0,o.justStarted=t[3],I((()=>s=!1))),n.$set(o)},i(t){o||(Z(n.$$.fragment,t),o=!0)},o(t){J(n.$$.fragment,t),o=!1},d(t){t&&p(e),nt(n)}}}function Rt(t){let e,n,s,o,r,i,c,a,l,u;function d(e){t[12](e)}let f={};function g(e){t[13](e)}void 0!==t[1]&&(f.station=t[1]),e=new xt({props:f}),q.push((()=>Y(e,"station",d)));let m={loss:t[7]};function $(e){t[14](e)}function y(e){t[15](e)}void 0!==t[6]&&(m.win=t[6]),o=new qt({props:m}),q.push((()=>Y(o,"win",g)));let b={};return void 0!==t[2]&&(b.station=t[2]),void 0!==t[8]&&(b.chooseActive=t[8]),c=new jt({props:b}),q.push((()=>Y(c,"station",$))),q.push((()=>Y(c,"chooseActive",y))),c.$on("message",t[10]),{c(){tt(e.$$.fragment),s=v(),tt(o.$$.fragment),i=v(),tt(c.$$.fragment)},m(t,n){et(e,t,n),h(t,s,n),et(o,t,n),h(t,i,n),et(c,t,n),u=!0},p(t,s){const i={};!n&&2&s&&(n=!0,i.station=t[1],I((()=>n=!1))),e.$set(i);const u={};128&s&&(u.loss=t[7]),!r&&64&s&&(r=!0,u.win=t[6],I((()=>r=!1))),o.$set(u);const d={};!a&&4&s&&(a=!0,d.station=t[2],I((()=>a=!1))),!l&&256&s&&(l=!0,d.chooseActive=t[8],I((()=>l=!1))),c.$set(d)},i(t){u||(Z(e.$$.fragment,t),Z(o.$$.fragment,t),Z(c.$$.fragment,t),u=!0)},o(t){J(e.$$.fragment,t),J(o.$$.fragment,t),J(c.$$.fragment,t),u=!1},d(t){nt(e,t),t&&p(s),nt(o,t),t&&p(i),nt(c,t)}}}function Ht(t){let e,n,s,o;const r=[Ot,Mt,zt],i=[];function c(t,e){return t[3]?0:t[4]?1:2}return n=c(t),s=i[n]=r[n](t),{c(){e=g("page"),s.c(),y(e,"class","svelte-1cgl8bm")},m(t,s){h(t,e,s),i[n].m(e,null),o=!0},p(t,[o]){let a=n;n=c(t),n===a?i[n].p(t,o):(K(),J(i[a],1,1,(()=>{i[a]=null})),U(),s=i[n],s?s.p(t,o):(s=i[n]=r[n](t),s.c()),Z(s,1),s.m(e,null))},i(t){o||(Z(s),o=!0)},o(t){J(s),o=!1},d(t){t&&p(e),i[n].d()}}}function It(t,e,n){var s=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(o,r){function i(t){try{a(s.next(t))}catch(t){r(t)}}function c(t){try{a(s.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}a((s=s.apply(t,e||[])).next())}))};let o,r,i=!0,c=!1,a=0,l=!1,u=!1,d=!0,f=null;const h=()=>s(void 0,void 0,void 0,(function*(){n(5,a=0),n(4,c=!1),n(7,u=!1),n(6,l=!1);const t=yield f.getNextStationArrivalDelay(),e=yield f.getNextStationArrivalDelay();t&&e?(n(1,o=t),n(2,r=e),n(8,d=!0)):alert("Nicht genügend Bahnhöfe mit Verspätungen konfiguriert für gerade!")}));return s(void 0,void 0,void 0,(function*(){try{const t=yield(yield fetch("./stations.json")).json();f=new ct(t)}catch(t){console.error(t),alert("Initialization station load failed")}h()})),[lt,o,r,i,c,a,l,u,d,h,t=>{if(n(8,d=!1),t.detail.decision===Ct.HIGHER){const t=r.delay>=o.delay;n(6,l=t),n(7,u=!t)}else if(t.detail.decision===Ct.LOWER){const t=r.delay<=o.delay;n(6,l=t),n(7,u=!t)}l?(n(5,a+=1),a>lt.highscore&&n(0,lt.highscore=a,lt),setTimeout((()=>s(void 0,void 0,void 0,(function*(){n(6,l=!1),n(7,u=!1);const t=yield f.getNextStationArrivalDelay();t?(n(1,o=r),n(2,r=t),n(8,d=!0)):alert("Kein weiterer Bahnhof mit Verspätung konfiguriert für weitere Runde!")}))),1250)):setTimeout((()=>n(4,c=!0)),2e3)},function(t){i=t,n(3,i)},function(t){o=t,n(1,o)},function(t){l=t,n(6,l)},function(t){r=t,n(2,r)},function(t){d=t,n(8,d)}]}return new class extends rt{constructor(t){super(),ot(this,t,It,Ht,i,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
