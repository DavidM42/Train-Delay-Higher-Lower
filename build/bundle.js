var app=function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function s(){return Object.create(null)}function o(t){t.forEach(n)}function i(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}const a="undefined"!=typeof window;let c=a?()=>window.performance.now():()=>Date.now(),l=a?t=>requestAnimationFrame(t):t;const u=new Set;function d(t){u.forEach((e=>{e.c(t)||(u.delete(e),e.f())})),0!==u.size&&l(d)}function f(t,e){t.appendChild(e)}function h(t,e,n){t.insertBefore(e,n||null)}function p(t){t.parentNode.removeChild(t)}function m(t){return document.createElement(t)}function g(t){return document.createTextNode(t)}function v(){return g(" ")}function $(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function y(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function b(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function x(t,e,n,s){t.style.setProperty(e,n,s?"important":"")}function _(t,e,n){t.classList[n?"add":"remove"](e)}function w(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}const C=new Set;let k,S=0;function E(t,e,n,s,o,i,r,a=0){const c=16.666/s;let l="{\n";for(let t=0;t<=1;t+=c){const s=e+(n-e)*i(t);l+=100*t+`%{${r(s,1-s)}}\n`}const u=l+`100% {${r(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${a}`,f=t.ownerDocument;C.add(f);const h=f.__svelte_stylesheet||(f.__svelte_stylesheet=f.head.appendChild(m("style")).sheet),p=f.__svelte_rules||(f.__svelte_rules={});p[d]||(p[d]=!0,h.insertRule(`@keyframes ${d} ${u}`,h.cssRules.length));const g=t.style.animation||"";return t.style.animation=`${g?`${g}, `:""}${d} ${s}ms linear ${o}ms 1 both`,S+=1,d}function N(t,e){const n=(t.style.animation||"").split(", "),s=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),o=n.length-s.length;o&&(t.style.animation=s.join(", "),S-=o,S||l((()=>{S||(C.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),C.clear())})))}function j(t){k=t}function P(){const t=function(){if(!k)throw new Error("Function called outside component initialization");return k}();return(e,n)=>{const s=t.$$.callbacks[e];if(s){const o=w(e,n);s.slice().forEach((e=>{e.call(t,o)}))}}}const A=[],L=[],q=[],D=[],I=Promise.resolve();let M=!1;function z(t){q.push(t)}function O(t){D.push(t)}let R=!1;const H=new Set;function T(){if(!R){R=!0;do{for(let t=0;t<A.length;t+=1){const e=A[t];j(e),V(e.$$)}for(j(null),A.length=0;L.length;)L.pop()();for(let t=0;t<q.length;t+=1){const e=q[t];H.has(e)||(H.add(e),e())}q.length=0}while(A.length);for(;D.length;)D.pop()();M=!1,R=!1,H.clear()}}function V(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(z)}}let B;function G(t,e,n){t.dispatchEvent(w(`${e?"intro":"outro"}${n}`))}const W=new Set;let F;function K(){F={r:0,c:[],p:F}}function U(){F.r||o(F.c),F=F.p}function Z(t,e){t&&t.i&&(W.delete(t),t.i(e))}function J(t,e,n,s){if(t&&t.o){if(W.has(t))return;W.add(t),F.c.push((()=>{W.delete(t),s&&(n&&t.d(1),s())})),t.o(e)}}const Q={duration:0};function X(n,s,r,a){let f=s(n,r),h=a?0:1,p=null,m=null,g=null;function v(){g&&N(n,g)}function $(t,e){const n=t.b-h;return e*=Math.abs(n),{a:h,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function y(s){const{delay:i=0,duration:r=300,easing:a=e,tick:y=t,css:b}=f||Q,x={start:c()+i,b:s};s||(x.group=F,F.r+=1),p||m?m=x:(b&&(v(),g=E(n,h,s,r,i,a,b)),s&&y(0,1),p=$(x,r),z((()=>G(n,s,"start"))),function(t){let e;0===u.size&&l(d),new Promise((n=>{u.add(e={c:t,f:n})}))}((t=>{if(m&&t>m.start&&(p=$(m,r),m=null,G(n,p.b,"start"),b&&(v(),g=E(n,h,p.b,p.duration,0,a,f.css))),p)if(t>=p.end)y(h=p.b,1-h),G(n,p.b,"end"),m||(p.b?v():--p.group.r||o(p.group.c)),p=null;else if(t>=p.start){const e=t-p.start;h=p.a+p.d*a(e/p.duration),y(h,1-h)}return!(!p&&!m)})))}return{run(t){i(f)?(B||(B=Promise.resolve(),B.then((()=>{B=null}))),B).then((()=>{f=f(),y(t)})):y(t)},end(){v(),p=m=null}}}function Y(t,e,n){const s=t.$$.props[e];void 0!==s&&(t.$$.bound[s]=n,n(t.$$.ctx[s]))}function tt(t){t&&t.c()}function et(t,e,s,r){const{fragment:a,on_mount:c,on_destroy:l,after_update:u}=t.$$;a&&a.m(e,s),r||z((()=>{const e=c.map(n).filter(i);l?l.push(...e):o(e),t.$$.on_mount=[]})),u.forEach(z)}function nt(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function st(t,e){-1===t.$$.dirty[0]&&(A.push(t),M||(M=!0,I.then(T)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ot(e,n,i,r,a,c,l=[-1]){const u=k;j(e);const d=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:a,bound:s(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:s(),dirty:l,skip_bound:!1};let f=!1;if(d.ctx=i?i(e,n.props||{},((t,n,...s)=>{const o=s.length?s[0]:n;return d.ctx&&a(d.ctx[t],d.ctx[t]=o)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](o),f&&st(e,t)),n})):[],d.update(),f=!0,o(d.before_update),d.fragment=!!r&&r(d.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);d.fragment&&d.fragment.l(t),t.forEach(p)}else d.fragment&&d.fragment.c();n.intro&&Z(e.$$.fragment),et(e,n.target,n.anchor,n.customElement),T()}j(u)}class it{$destroy(){nt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}async function rt(t,e,n){try{const s=await async function(t,e=30,n){const s=new URL(`https://v5.db.transport.rest/stops/${t}/arrivals`);return e&&s.searchParams.set("duration",e.toString()),n&&!isNaN(n.getTime())&&s.searchParams.set("when",n.toISOString()),s.searchParams.set("results","200"),(await fetch(s.href)).json()}(t,e,n);let o=0;return s.forEach((t=>{const e=t.delay?t.delay/60:null;o+=e||0})),Math.round(100*o)/100}catch(t){return console.error(t),null}}class at{constructor(t){this.usedCityCodes=[],this.disqualifiedCityCodes=[],this.stations={},this.stationDelayInfoPromiseCache=new Map,this.stations=t,this.replenishNextStationPromiseCache()}async delayDataIfValid(t){if(this.usedCityCodes.includes(t)||this.disqualifiedCityCodes.includes(t))return!1;const e=await rt(t);return!e||e<=0?(this.disqualifiedCityCodes.push(t),!1):(this.usedCityCodes.push(t),e)}async innerNextStationDelay(){for(let t=0;t<Object.keys(this.stations).length;t++){let t=Number(ct(this.stations));6===(t+"").length&&(t=Number("0"+t));const e=await this.delayDataIfValid(t);if(e)return{eva:t,name:this.stations[t].name,photoName:this.stations[t].photoName,photographer:this.stations[t].photographer,license:this.stations[t].license,delay:e}}}replenishNextStationPromiseCache(){const t=Object.keys(this.stationDelayInfoPromiseCache).length;if(t>5)return;const e=5-t;for(let t=0;t<e;t++){const t=Math.floor(1e3*Math.random());this.stationDelayInfoPromiseCache.set(t,this.innerNextStationDelay())}}async getNextStationArrivalDelay(){const t=Promise.race(this.stationDelayInfoPromiseCache),e=await t,[n,s]=e;return this.stationDelayInfoPromiseCache.delete(n),this.replenishNextStationPromiseCache(),s}}const ct=function(t){return Object.keys(t)[Math.floor(Math.random()*Object.keys(t).length)]};class lt{static get highscore(){const t=Number.parseInt(localStorage.getItem("highscore"));return t||0}static set highscore(t){localStorage.setItem("highscore",t+"")}}function ut(e){let n,s,o,i,r,a,c,l,u,d,g;return{c(){n=m("page"),s=m("h1"),s.textContent="Zugverspätung higher lower",o=v(),i=m("h2"),i.textContent="Welcher Bahnhof sammelt zurzeit mehr Ankunfts-Verspätungs-Minuten?",r=v(),a=m("span"),a.textContent="Eine spassige Method die Echtzeit Fahrplandaten der Bahn zu nutzen",c=v(),l=m("div"),u=m("button"),u.textContent="Go",y(s,"class","svelte-9lqrd1"),y(i,"class","svelte-9lqrd1"),y(u,"class","svelte-9lqrd1"),y(l,"class","inlineContainer svelte-9lqrd1"),y(n,"class","svelte-9lqrd1")},m(t,p){h(t,n,p),f(n,s),f(n,o),f(n,i),f(n,r),f(n,a),f(n,c),f(n,l),f(l,u),d||(g=$(u,"click",e[0]),d=!0)},p:t,i:t,o:t,d(t){t&&p(n),d=!1,g()}}}function dt(t,e,n){let{justStarted:s}=e;return t.$$set=t=>{"justStarted"in t&&n(1,s=t.justStarted)},[function(t){n(1,s=!1)},s]}class ft extends it{constructor(t){super(),ot(this,t,dt,ut,r,{justStarted:1})}}function ht(t){let e;return{c(){e=m("span"),e.textContent="Schon mal nicht schlecht"},m(t,n){h(t,e,n)},d(t){t&&p(e)}}}function pt(t){let e;return{c(){e=m("span"),e.textContent="Naja wenigstens etwas"},m(t,n){h(t,e,n)},d(t){t&&p(e)}}}function mt(t){let e;return{c(){e=m("span"),e.innerHTML="<strong>Schwach!</strong>"},m(t,n){h(t,e,n)},d(t){t&&p(e)}}}function gt(e){let n,s,o,i,r,a,c,l,u,d,x,_;function w(t,e){return 0==t[0]?mt:t[0]>0&&t[0]<3?pt:ht}let C=w(e),k=C(e);return{c(){n=m("page"),s=m("h1"),s.textContent="Dein Ergebnis",o=v(),i=m("h2"),r=g(e[0]),a=g(" Punkte"),c=v(),k.c(),l=v(),u=m("div"),d=m("button"),d.textContent="Neustart!",y(d,"class","svelte-1sayq2q"),y(u,"class","inlineContainer svelte-1sayq2q"),y(n,"class","svelte-1sayq2q")},m(t,p){h(t,n,p),f(n,s),f(n,o),f(n,i),f(i,r),f(i,a),f(n,c),k.m(n,null),f(n,l),f(n,u),f(u,d),x||(_=$(d,"click",e[1]),x=!0)},p(t,[e]){1&e&&b(r,t[0]),C!==(C=w(t))&&(k.d(1),k=C(t),k&&(k.c(),k.m(n,l)))},i:t,o:t,d(t){t&&p(n),k.d(),x=!1,_()}}}function vt(t,e,n){let{score:s}=e;return t.$$set=t=>{"score"in t&&n(0,s=t.score)},[s,function(e){!function(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t(e)))}(t,e)}]}class $t extends it{constructor(t){super(),ot(this,t,vt,gt,r,{score:0})}}function yt(e){let n,s,o,i,r,a,c,l,u,d,$,_,w,C,k,S,E=e[0].name+"",N=e[0].delay+"",j=e[0].photographer+"",P=e[0].license+"";return{c(){n=m("page"),s=m("h1"),o=g(E),i=v(),r=m("div"),a=m("p"),c=g(N),l=v(),u=m("p"),u.textContent="Minute(n) Verspätung gesamt",d=v(),$=m("div"),_=m("span"),w=g(j),C=v(),k=m("span"),S=g(P),y(a,"class","term-volume__volume svelte-xg5uyx"),y(r,"class","term-volume"),y(_,"class","attributionLine svelte-xg5uyx"),y(k,"class","attributionLine svelte-xg5uyx"),y($,"id","attributionContainer"),y($,"class","svelte-xg5uyx"),x(n,"background","linear-gradient(rgba(0, 0, 0, 0.65), rgba(0, 0, 0, 0.65)), url('station-images/"+e[0].photoName+"') no-repeat center center fixed"),y(n,"class","svelte-xg5uyx")},m(t,e){h(t,n,e),f(n,s),f(s,o),f(n,i),f(n,r),f(r,a),f(a,c),f(r,l),f(r,u),f(n,d),f(n,$),f($,_),f(_,w),f($,C),f($,k),f(k,S)},p(t,[e]){1&e&&E!==(E=t[0].name+"")&&b(o,E),1&e&&N!==(N=t[0].delay+"")&&b(c,N),1&e&&j!==(j=t[0].photographer+"")&&b(w,j),1&e&&P!==(P=t[0].license+"")&&b(S,P),1&e&&x(n,"background","linear-gradient(rgba(0, 0, 0, 0.65), rgba(0, 0, 0, 0.65)), url('station-images/"+t[0].photoName+"') no-repeat center center fixed")},i:t,o:t,d(t){t&&p(n)}}}function bt(t,e,n){let{station:s}=e;return t.$$set=t=>{"station"in t&&n(0,s=t.station)},[s]}class xt extends it{constructor(t){super(),ot(this,t,bt,yt,r,{station:0})}}function _t(t){return 0===t?t:Math.pow(2,10*(t-1))}function wt(t,{delay:e=0,duration:n=200,easing:s=(t=>t),baseScale:o=0}){const i=+getComputedStyle(t).opacity,r=getComputedStyle(t).transform.match(/scale\(([0-9.]+)\)/),a=Number(r?r[1]:1),c=1-o;return{delay:e,duration:n,css:t=>{const e=s(t);return`opacity: ${e*i}; transform: scale(${e*a*c+o})`}}}var Ct;function kt(e){let n,s,i,r,a,c;return{c(){n=m("div"),s=m("button"),s.textContent="Higher",i=v(),r=m("button"),r.textContent="Lower",y(s,"class","svelte-1r98h0r"),y(r,"class","svelte-1r98h0r"),y(n,"class","buttonContainer svelte-1r98h0r")},m(t,o){h(t,n,o),f(n,s),f(n,i),f(n,r),a||(c=[$(s,"click",e[2]),$(r,"click",e[3])],a=!0)},p:t,i:t,o:t,d(t){t&&p(n),a=!1,o(c)}}}function St(t){let e,n,s,o,i,r,a,c=t[1].delay+"";return{c(){e=m("div"),n=m("p"),s=g(c),o=v(),i=m("p"),i.textContent="Minute(n) Verspätung gesamt",y(n,"class","term-volume__volume svelte-1r98h0r"),y(e,"class","term-volume")},m(t,r){h(t,e,r),f(e,n),f(n,s),f(e,o),f(e,i),a=!0},p(e,n){t=e,(!a||2&n)&&c!==(c=t[1].delay+"")&&b(s,c)},i(t){a||(z((()=>{r||(r=X(e,wt,{delay:75,duration:500,easing:_t,baseScale:.5},!0)),r.run(1)})),a=!0)},o(t){r||(r=X(e,wt,{delay:75,duration:500,easing:_t,baseScale:.5},!1)),r.run(0),a=!1},d(t){t&&p(e),t&&r&&r.end()}}}function Et(t){let e,n,s,o,i,r,a,c,l,u,d,$,_,w,C=t[1].name+"",k=t[1].photographer+"",S=t[1].license+"";const E=[St,kt],N=[];function j(t,e){return t[0]?1:0}return i=j(t),r=N[i]=E[i](t),{c(){e=m("page"),n=m("h1"),s=g(C),o=v(),r.c(),a=v(),c=m("div"),l=m("span"),u=g(k),d=v(),$=m("span"),_=g(S),y(l,"class","attributionLine svelte-1r98h0r"),y($,"class","attributionLine svelte-1r98h0r"),y(c,"id","attributionContainer"),y(c,"class","svelte-1r98h0r"),x(e,"background","linear-gradient(rgba(0, 0, 0, 0.65), rgba(0, 0, 0, 0.65)),\nurl('station-images/"+t[1].photoName+"') no-repeat center center fixed"),y(e,"class","svelte-1r98h0r")},m(t,r){h(t,e,r),f(e,n),f(n,s),f(e,o),N[i].m(e,null),f(e,a),f(e,c),f(c,l),f(l,u),f(c,d),f(c,$),f($,_),w=!0},p(t,[n]){(!w||2&n)&&C!==(C=t[1].name+"")&&b(s,C);let o=i;i=j(t),i===o?N[i].p(t,n):(K(),J(N[o],1,1,(()=>{N[o]=null})),U(),r=N[i],r?r.p(t,n):(r=N[i]=E[i](t),r.c()),Z(r,1),r.m(e,a)),(!w||2&n)&&k!==(k=t[1].photographer+"")&&b(u,k),(!w||2&n)&&S!==(S=t[1].license+"")&&b(_,S),(!w||2&n)&&x(e,"background","linear-gradient(rgba(0, 0, 0, 0.65), rgba(0, 0, 0, 0.65)),\nurl('station-images/"+t[1].photoName+"') no-repeat center center fixed")},i(t){w||(Z(r),w=!0)},o(t){J(r),w=!1},d(t){t&&p(e),N[i].d()}}}function Nt(t,e,n){let{station:s}=e,{chooseActive:o}=e;const i=P();return t.$$set=t=>{"station"in t&&n(1,s=t.station),"chooseActive"in t&&n(0,o=t.chooseActive)},[o,s,function(t){i("message",{decision:Ct.HIGHER}),n(0,o=!1)},function(t){i("message",{decision:Ct.LOWER}),n(0,o=!1)}]}!function(t){t.HIGHER="higher",t.LOWER="lower"}(Ct||(Ct={}));class jt extends it{constructor(t){super(),ot(this,t,Nt,Et,r,{station:1,chooseActive:0})}}function Pt(e){let n,s;return{c(){var t;n=m("page"),s=m("div"),s.innerHTML='<div class="versus-block__text svelte-5zy60r">vs</div> \n\t\t<div class="versus-block__overlay svelte-5zy60r"></div> \n\t\t<div class="versus-block__icon svelte-5zy60r"></div> \n\t\t<div></div>',y(s,"class",(null==(t="versus-block")?"":t)+" svelte-5zy60r"),_(s,"win",e[0]),_(s,"loss",e[1])},m(t,e){h(t,n,e),f(n,s)},p(t,[e]){1&e&&_(s,"win",t[0]),2&e&&_(s,"loss",t[1])},i:t,o:t,d(t){t&&p(n)}}}function At(t,e,n){let{win:s}=e,{loss:o}=e;return t.$$set=t=>{"win"in t&&n(0,s=t.win),"loss"in t&&n(1,o=t.loss)},[s,o]}class Lt extends it{constructor(t){super(),ot(this,t,At,Pt,r,{win:0,loss:1})}}function qt(t){let e,n,s,o,i,r,a,c,l,u,d,$,x,_,w=t[0].highscore+"",C=t[1]&&t[2]&&Mt(t);return{c(){e=m("div"),C&&C.c(),n=v(),s=m("div"),o=m("span"),i=g(w),r=v(),a=m("span"),a.textContent="Highscore",c=v(),l=m("div"),u=m("span"),d=g(t[5]),$=v(),x=m("span"),x.textContent="Punkte",y(e,"class","progressionContainer svelte-1cgl8bm"),y(o,"class","scoreLine svelte-1cgl8bm"),y(a,"class","scoreLine svelte-1cgl8bm"),y(s,"id","highScoreContainer"),y(s,"class","svelte-1cgl8bm"),y(u,"class","scoreLine svelte-1cgl8bm"),y(x,"class","scoreLine svelte-1cgl8bm"),y(l,"id","scoreContainer"),y(l,"class","svelte-1cgl8bm")},m(t,p){h(t,e,p),C&&C.m(e,null),h(t,n,p),h(t,s,p),f(s,o),f(o,i),f(s,r),f(s,a),h(t,c,p),h(t,l,p),f(l,u),f(u,d),f(l,$),f(l,x),_=!0},p(t,n){t[1]&&t[2]?C?(C.p(t,n),6&n&&Z(C,1)):(C=Mt(t),C.c(),Z(C,1),C.m(e,null)):C&&(K(),J(C,1,1,(()=>{C=null})),U()),(!_||1&n)&&w!==(w=t[0].highscore+"")&&b(i,w),(!_||32&n)&&b(d,t[5])},i(t){_||(Z(C),_=!0)},o(t){J(C),_=!1},d(t){t&&p(e),C&&C.d(),t&&p(n),t&&p(s),t&&p(c),t&&p(l)}}}function Dt(t){let e,n,s;return n=new $t({props:{score:t[5]}}),n.$on("click",t[9]),{c(){e=m("div"),tt(n.$$.fragment),y(e,"class","infoContainer svelte-1cgl8bm")},m(t,o){h(t,e,o),et(n,e,null),s=!0},p(t,e){const s={};32&e&&(s.score=t[5]),n.$set(s)},i(t){s||(Z(n.$$.fragment,t),s=!0)},o(t){J(n.$$.fragment,t),s=!1},d(t){t&&p(e),nt(n)}}}function It(t){let e,n,s,o;function i(e){t[11](e)}let r={};return void 0!==t[3]&&(r.justStarted=t[3]),n=new ft({props:r}),L.push((()=>Y(n,"justStarted",i))),{c(){e=m("div"),tt(n.$$.fragment),y(e,"class","infoContainer svelte-1cgl8bm")},m(t,s){h(t,e,s),et(n,e,null),o=!0},p(t,e){const o={};!s&&8&e&&(s=!0,o.justStarted=t[3],O((()=>s=!1))),n.$set(o)},i(t){o||(Z(n.$$.fragment,t),o=!0)},o(t){J(n.$$.fragment,t),o=!1},d(t){t&&p(e),nt(n)}}}function Mt(t){let e,n,s,o,i,r,a,c,l,u;function d(e){t[12](e)}let f={};function m(e){t[13](e)}void 0!==t[1]&&(f.station=t[1]),e=new xt({props:f}),L.push((()=>Y(e,"station",d)));let g={loss:t[7]};function $(e){t[14](e)}function y(e){t[15](e)}void 0!==t[6]&&(g.win=t[6]),o=new Lt({props:g}),L.push((()=>Y(o,"win",m)));let b={};return void 0!==t[2]&&(b.station=t[2]),void 0!==t[8]&&(b.chooseActive=t[8]),a=new jt({props:b}),L.push((()=>Y(a,"station",$))),L.push((()=>Y(a,"chooseActive",y))),a.$on("message",t[10]),{c(){tt(e.$$.fragment),s=v(),tt(o.$$.fragment),r=v(),tt(a.$$.fragment)},m(t,n){et(e,t,n),h(t,s,n),et(o,t,n),h(t,r,n),et(a,t,n),u=!0},p(t,s){const r={};!n&&2&s&&(n=!0,r.station=t[1],O((()=>n=!1))),e.$set(r);const u={};128&s&&(u.loss=t[7]),!i&&64&s&&(i=!0,u.win=t[6],O((()=>i=!1))),o.$set(u);const d={};!c&&4&s&&(c=!0,d.station=t[2],O((()=>c=!1))),!l&&256&s&&(l=!0,d.chooseActive=t[8],O((()=>l=!1))),a.$set(d)},i(t){u||(Z(e.$$.fragment,t),Z(o.$$.fragment,t),Z(a.$$.fragment,t),u=!0)},o(t){J(e.$$.fragment,t),J(o.$$.fragment,t),J(a.$$.fragment,t),u=!1},d(t){nt(e,t),t&&p(s),nt(o,t),t&&p(r),nt(a,t)}}}function zt(t){let e,n,s,o;const i=[It,Dt,qt],r=[];function a(t,e){return t[3]?0:t[4]?1:2}return n=a(t),s=r[n]=i[n](t),{c(){e=m("page"),s.c(),y(e,"class","svelte-1cgl8bm")},m(t,s){h(t,e,s),r[n].m(e,null),o=!0},p(t,[o]){let c=n;n=a(t),n===c?r[n].p(t,o):(K(),J(r[c],1,1,(()=>{r[c]=null})),U(),s=r[n],s?s.p(t,o):(s=r[n]=i[n](t),s.c()),Z(s,1),s.m(e,null))},i(t){o||(Z(s),o=!0)},o(t){J(s),o=!1},d(t){t&&p(e),r[n].d()}}}function Ot(t,e,n){var s=this&&this.__awaiter||function(t,e,n,s){return new(n||(n=Promise))((function(o,i){function r(t){try{c(s.next(t))}catch(t){i(t)}}function a(t){try{c(s.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,a)}c((s=s.apply(t,e||[])).next())}))};let o,i,r=!0,a=!1,c=0,l=!1,u=!1,d=!0,f=null;const h=()=>s(void 0,void 0,void 0,(function*(){n(5,c=0),n(4,a=!1),n(7,u=!1),n(6,l=!1);const t=yield f.getNextStationArrivalDelay(),e=yield f.getNextStationArrivalDelay();t&&e?(n(1,o=t),n(2,i=e),n(8,d=!0)):alert("Nicht genügend Bahnhöfe mit Verspätungen konfiguriert für gerade!")}));return s(void 0,void 0,void 0,(function*(){try{const t=yield(yield fetch("./stations.json")).json();f=new at(t)}catch(t){console.error(t),alert("Initialization station load failed")}h()})),[lt,o,i,r,a,c,l,u,d,h,t=>{if(n(8,d=!1),t.detail.decision===Ct.HIGHER){const t=i.delay>=o.delay;n(6,l=t),n(7,u=!t)}else if(t.detail.decision===Ct.LOWER){const t=i.delay<=o.delay;n(6,l=t),n(7,u=!t)}l?(n(5,c+=1),c>lt.highscore&&n(0,lt.highscore=c,lt),setTimeout((()=>s(void 0,void 0,void 0,(function*(){n(6,l=!1),n(7,u=!1);const t=yield f.getNextStationArrivalDelay();t?(n(1,o=i),n(2,i=t),n(8,d=!0)):alert("Kein weiterer Bahnhof mit Verspätung konfiguriert für weitere Runde!")}))),1250)):setTimeout((()=>n(4,a=!0)),2e3)},function(t){r=t,n(3,r)},function(t){o=t,n(1,o)},function(t){l=t,n(6,l)},function(t){i=t,n(2,i)},function(t){d=t,n(8,d)}]}return new class extends it{constructor(t){super(),ot(this,t,Ot,zt,r,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
